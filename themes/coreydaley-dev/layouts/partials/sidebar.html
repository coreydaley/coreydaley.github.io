{{/* Created by: AI Agent | Date: 2026-02-06T22:56:44-05:00 | Last Modified By: Claude Code (Claude Sonnet 4.5) | Last Modified: 2026-02-14T15:50:00-05:00 */}}
<aside class="sidebar">
  <nav class="sidebar-nav">
    <!-- Categories -->
    {{ $categories := .Site.Taxonomies.categories }}
    {{ if $categories }}
      <div class="nav-section">
        <h3 class="section-title">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
            />
          </svg>
          Categories
        </h3>
        <ul class="nav-links">
          {{ range $name, $taxonomy := $categories }}
            <li>
              <a
                href="{{ "/categories/" | relURL }}{{ $name | urlize }}"
                class="nav-link"
              >
                <span class="link-text">{{ $name | humanize }}</span>
              </a>
            </li>
          {{ end }}
        </ul>
      </div>
    {{ end }}
  </nav>
  <nav class="sidebar-nav">
    <!-- Tags -->
    {{ $tags := .Site.Taxonomies.tags }}
    {{ if $tags }}
      <div class="nav-section">
        <h3 class="section-title">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"
            />
            <line x1="7" y1="7" x2="7.01" y2="7" />
          </svg>
          Tags
        </h3>
        <div class="tag-cloud">
          {{ $maxCount := 0 }}
          {{ $minCount := 999 }}
          {{ range $name, $taxonomy := $tags }}
            {{ $count := len $taxonomy.Pages }}
            {{ if gt $count $maxCount }}{{ $maxCount = $count }}{{ end }}
            {{ if lt $count $minCount }}{{ $minCount = $count }}{{ end }}
          {{ end }}
          {{ range $name, $taxonomy := $tags }}
            {{ $count := len $taxonomy.Pages }}
            {{ $weight := 1.0 }}
            {{ if gt $maxCount $minCount }}
              {{ $weight = div (sub $count $minCount | float) (sub $maxCount $minCount | float) }}
            {{ end }}
            {{ $size := add 0.8 (mul $weight 0.3) }}
            <a
              href="{{ "/tags/" | relURL }}{{ $name | urlize }}"
              class="tag-cloud-item"
              style="font-size: {{ $size }}rem;"
            >
              {{ $name }}
            </a>
          {{ end }}
        </div>
      </div>
    {{ end }}
  </nav>
</aside>

{{/* Created by: Claude Code (Claude Sonnet 4.5) | Date: 2026-02-08T00:00:00-05:00 | Last Modified By: Claude Code (Claude Sonnet 4.5) | Last Modified: 2026-02-08T15:00:00-05:00 */}}
{{ define "main" }}
  <article class="posts-list">
    <div class="list-header">
      <h1 class="page-title">Category: {{ .Title }}</h1>
      <p class="page-content">
        {{ .Pages | len }}
        {{ if eq (.Pages | len) 1 }}post{{ else }}posts{{ end }} in category
        "{{ .Title }}"
      </p>
    </div>

    <div class="posts-list-simple">
    {{ $pages := where .Pages "Draft" false }}
    {{ range $index, $page := $pages }}
      <article class="post-item">
        <div class="post-date">
          {{ $page.Date.Format "January 02, 2006" }}
        </div>

        <h2 class="post-title">
          <a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a>
        </h2>

        {{ if $page.Description }}
          <p class="post-excerpt">{{ $page.Description }}</p>
        {{ else if $page.Summary }}
          <p class="post-excerpt">
            {{ $page.Summary | plainify | truncate 200 }}
          </p>
        {{ end }}

        <div class="post-taxonomy">
          {{ if $page.Params.categories }}
            <div class="post-categories">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="taxonomy-icon">
                <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
              </svg>
              {{ range $index, $category := $page.Params.categories }}
                {{ if $index }}, {{ end }}
                <a href="{{ "/categories/" | relURL }}{{ $category | urlize }}" class="taxonomy-link">{{ $category }}</a>
              {{ end }}
            </div>
          {{ end }}

          {{ if $page.Params.tags }}
            <div class="post-tags-list">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="taxonomy-icon">
                <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
                <line x1="7" y1="7" x2="7.01" y2="7"/>
              </svg>
              {{ range $index, $tag := $page.Params.tags }}
                {{ if $index }}, {{ end }}
                <a href="{{ "/tags/" | relURL }}{{ $tag | urlize }}" class="taxonomy-link">{{ $tag }}</a>
              {{ end }}
            </div>
          {{ end }}
        </div>

        <a href="{{ $page.RelPermalink }}" class="read-more">Read more â†’</a>

      </article>

      {{ if ne (add $index 1) (len $pages) }}
        <hr class="post-separator" />
      {{ end }}
    {{ end }}
    </div>
  </article>
{{ end }}
